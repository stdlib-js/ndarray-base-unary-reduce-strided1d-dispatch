"use strict";var O=function(r,e){return function(){return e||r((e={exports:{}}).exports,e),e.exports}};var C=O(function(Tr,er){er.exports={dims:null,keepdims:!1}});var I=O(function(_r,S){"use strict";var tr=require("@stdlib/assert-is-plain-object"),V=require("@stdlib/assert-has-own-property"),ar=require("@stdlib/assert-is-boolean").isPrimitive,ir=require("@stdlib/assert-is-integer-array").primitives,nr=require("@stdlib/assert-is-empty-collection"),sr=require("@stdlib/ndarray-base-to-unique-normalized-indices"),D=require("@stdlib/array-base-join"),ur=require("@stdlib/array-base-assert-contains"),w=require("@stdlib/string-format");function or(r,e,u,t){var i;if(!tr(t))return new TypeError(w("invalid argument. Options argument must be an object. Value: `%s`.",t));if(V(t,"keepdims")&&(r.keepdims=t.keepdims,!ar(r.keepdims)))return new TypeError(w("invalid option. `%s` option must be a boolean. Option: `%s`.","keepdims",r.keepdims));if(V(t,"dims")){if(r.dims=t.dims,!ir(r.dims)&&!nr(r.dims))return new TypeError(w("invalid option. `%s` option must be an array of integers. Option: `%s`.","dims",r.dims));if(i=sr(r.dims,e-1),i===null)return new RangeError(w("invalid option. `%s` option contains an out-of-bounds dimension index. Option: [%s].","dims",D(r.dims,",")));if(i.length!==r.dims.length)return new Error(w("invalid option. `%s` option contains duplicate indices. Option: [%s].","dims",D(r.dims,",")));r.dims=i}return V(t,"dtype")&&(r.dtype=t.dtype,!ur(u,r.dtype))?new TypeError(w('invalid option. `%s` option must be one of the following: "%s". Option: `%s`.',"dtype",D(u,'", "'),r.dtype)):null}S.exports=or});var rr=O(function(jr,x){"use strict";var L=require("@stdlib/utils-define-nonenumerable-read-only-property"),P=require("@stdlib/assert-has-property"),j=require("@stdlib/assert-is-ndarray-like"),R=require("@stdlib/assert-is-object"),dr=require("@stdlib/assert-is-function"),_=require("@stdlib/assert-is-collection"),z=require("@stdlib/assert-is-empty-collection"),mr=require("@stdlib/assert-is-function-array"),B=require("@stdlib/ndarray-base-assert-is-data-type"),vr=require("@stdlib/ndarray-base-assert-is-output-data-type-policy"),pr=require("@stdlib/ndarray-base-assert-is-input-casting-policy"),k=require("@stdlib/array-base-assert-contains"),U=require("@stdlib/ndarray-base-unary-reduce-strided1d"),lr=require("@stdlib/ndarray-base-unary-output-dtype"),G=require("@stdlib/ndarray-base-unary-input-casting-dtype"),H=require("@stdlib/ndarray-base-dtype-resolve-enum"),yr=require("@stdlib/ndarray-base-dtypes2enums"),gr=require("@stdlib/ndarray-base-spread-dimensions"),J=require("@stdlib/ndarray-shape"),fr=require("@stdlib/ndarray-ndims"),E=require("@stdlib/ndarray-base-dtype"),A=require("@stdlib/ndarray-base-order"),K=require("@stdlib/ndarray-base-assign"),M=require("@stdlib/ndarray-base-empty"),hr=require("@stdlib/ndarray-empty"),cr=require("@stdlib/array-base-indices-complement"),wr=require("@stdlib/array-base-take-indexed"),Q=require("@stdlib/array-base-zero-to"),F=require("@stdlib/array-base-join"),qr=require("@stdlib/array-base-copy"),W=require("@stdlib/array-base-insert-at"),N=require("@stdlib/array-base-every-by"),X=require("@stdlib/blas-ext-base-gindex-of-row").ndarray,Y=require("@stdlib/object-assign"),n=require("@stdlib/string-format"),Z=C(),$=I();function T(r,e,u,t){var i,o;if(!(this instanceof T))return new T(r,e,u,t);if(!R(r))throw new TypeError(n("invalid argument. First argument must be an object. Value: `%s`.",r));if(!dr(r.default))throw new TypeError(n('invalid argument. First argument must be an object having a "default" property and an associated method.'));if(P(r,"types")&&!_(r.types)&&!z(r.types))throw new TypeError(n('invalid argument. First argument must be an object having a "types" property whose associated value is an array-like object.'));if(P(r,"fcns")&&!mr(r.fcns)&&!z(r.fcns))throw new TypeError(n('invalid argument. First argument must be an object having a "fcns" property whose associated value is an array-like object containing functions.'));if(!_(e))throw new TypeError(n("invalid argument. Second argument must be an array-like object. Value: `%s`.",e));for(o=0;o<e.length;o++)if(i=e[o],!_(i)||i.length<1||!N(i,B))throw new TypeError(n("invalid argument. Second argument must contain arrays of data types. Value: `%s`.",e));if(!_(u)||u.length<1||!N(u,B))throw new TypeError(n("invalid argument. Third argument must be an array of data types. Value: `%s`.",u));if(!R(t))throw new TypeError(n("invalid argument. Fourth argument must be an object. Value: `%s`.",t));if(!vr(t.output))throw new TypeError(n("invalid argument. Fourth argument must be an object having a supported output data type policy. Value: `%s`.",t.output));if(!pr(t.casting))throw new TypeError(n("invalid argument. Fourth argument must be an object having a supported casting policy. Value: `%s`.",t.casting));if(this._table={default:r.default,types:r.types?yr(r.types):[],fcns:r.fcns?qr(r.fcns):[]},this._table.types.length!==this._table.fcns.length)throw new Error("invalid argument. First argument specifies an unexpected number of types. An input ndarray data type must be specified for each provided strided function.");return this._idtypes=e,this._odtypes=u,this._policies={output:t.output,casting:t.casting},this}L(T.prototype,"apply",function(e){var u,t,i,o,s,g,f,h,l,y,p,m,c,v,a,q,b,d;if(i=arguments.length,!j(e))throw new TypeError(n("invalid argument. First argument must be an ndarray-like object. Value: `%s`.",e));if(m=E(e),!k(this._idtypes[0],m))throw new TypeError(n('invalid argument. First argument must have one of the following data types: "%s". Data type: `%s`.',F(this._idtypes[0],'", "'),m));for(o=[e],d=1;d<i&&(y=arguments[d],!!j(y));d++){if(v=E(y),!k(this._idtypes[d],v))throw new TypeError(n('invalid argument. Argument %d must have one of the following data types: "%s". Data type: `%s`.',d,F(this._idtypes[d],'", "'),v));o.push(y)}if(d<i-1)throw new TypeError(n("invalid argument. Argument %d must be an ndarray-like object. Value: `%s`.",d,arguments[d]));if(h=J(e),q=h.length,s=Y({},Z),i>d&&(u=arguments[i-1],g=$(s,q,this._odtypes,u),g))throw g;return s.dims===null&&(s.dims=Q(q)),f=cr(q,s.dims),l=wr(h,f),c=s.dtype||lr(m,this._policies.output),b=hr(l,{dtype:c,order:A(e)}),v=G(m,c,this._policies.casting),m!==v&&(p=M(v,h,A(e)),K([e,p]),o[0]=p,m=v),t=[H(m)],d=X(this._table.fcns.length,1,this._table.types,1,1,0,t,1,0),d>=0?a=this._table.fcns[d]:a=this._table.default,U(a,W(o,1,b),s.dims),s.keepdims&&(b=gr(q,b,f)),b});L(T.prototype,"assign",function(e){var u,t,i,o,s,g,f,h,l,y,p,m,c,v,a;if(i=arguments.length,!j(e))throw new TypeError(n("invalid argument. First argument must be an ndarray-like object. Value: `%s`.",e));if(l=E(e),!k(this._idtypes[0],l))throw new TypeError(n('invalid argument. First argument must have one of the following data types: "%s". Data type: `%s`.',F(this._idtypes[0],'", "'),l));for(s=[e],a=1;a<i&&(g=arguments[a],!!j(g));a++)s.push(g);if(a<2)throw new TypeError(n("invalid argument. Second argument must be an ndarray-like object. Value: `%s`.",arguments[1]));if(a===i-1)u=arguments[a],h=!0;else if(a<i-1)throw new TypeError(n("invalid argument. Argument %d must be an ndarray-like object. Value: `%s`.",a,arguments[a]));for(v=s.pop(),a=1;a<s.length;a++)if(p=E(s[a]),!k(this._idtypes[a],p))throw new TypeError(n('invalid argument. Argument %d must have one of the following data types: "%s". Data type: `%s`.',a,F(this._idtypes[a],'", "'),p));if(m=fr(e),o=Y({},Z),h&&(f=$(o,m,this._odtypes,u),f))throw f;return o.dims===null&&(o.dims=Q(m)),p=G(l,E(v),this._policies.casting),l!==p&&(y=M(p,J(e),A(e)),K([e,y]),s[0]=y,l=p),t=[H(l)],a=X(this._table.fcns.length,1,this._table.types,1,1,0,t,1,0),a>=0?c=this._table.fcns[a]:c=this._table.default,U(c,W(s,1,v),o.dims),v});x.exports=T});var br=rr();module.exports=br;
/**
* @license Apache-2.0
*
* Copyright (c) 2025 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
//# sourceMappingURL=index.js.map
